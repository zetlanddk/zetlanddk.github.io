{
    "swagger": "2.0",
    "info": {
        "title": "Zetland Partner API",
        "description": "Integrate with our Partner API to allow your customers to become members of Zetland.\n\nThe staging API is located on https://api-staging.zetland.dk.\n\nThe production API is located on https://api.zetland.dk.\n",
        "version": "1"
    },
    "host": "api-staging.zetland.dk",
    "schemes": [
        "https"
    ],
    "basePath": "/api/v1/partner",
    "produces": [
        "application/json"
    ],
    "paths": {
        "/customers": {
            "get": {
                "summary": "Get all your customers",
                "security": [
                    {
                        "basic_authentication": []
                    }
                ],
                "tags": [
                    "Customers"
                ],
                "responses": {
                    "200": {
                        "description": "An array of customers",
                        "schema": {
                            "type": "array",
                            "items": {
                                "$ref": "#/definitions/Customer"
                            }
                        }
                    }
                }
            }
        },
        "/customers/{customer_id}": {
            "get": {
                "summary": "Get a specific customer",
                "parameters": [
                    {
                        "$ref": "#/parameters/customer_id"
                    }
                ],
                "security": [
                    {
                        "basic_authentication": []
                    }
                ],
                "tags": [
                    "Customers"
                ],
                "responses": {
                    "200": {
                        "description": "The customer",
                        "schema": {
                            "$ref": "#/definitions/Customer"
                        }
                    }
                }
            },
            "delete": {
                "summary": "Terminate a customer",
                "description": "This endpoint is idempotent.",
                "tags": [
                    "Customers"
                ],
                "parameters": [
                    {
                        "$ref": "#/parameters/customer_id"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "The customer is now terminated."
                    }
                }
            }
        },
        "/customers/{customer_id}/activate": {
            "post": {
                "summary": "Activate a customer",
                "description": "This endpoint is idempotent.",
                "tags": [
                    "Customers"
                ],
                "parameters": [
                    {
                        "$ref": "#/parameters/customer_id"
                    },
                    {
                        "$ref": "#/parameters/product"
                    },
                    {
                        "$ref": "#/parameters/first_name"
                    },
                    {
                        "$ref": "#/parameters/last_name"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "An object",
                        "schema": {
                            "$ref": "#/definitions/ActivationResponse"
                        }
                    }
                }
            }
        },
        "/customers/{customer_id}/deactivate": {
            "post": {
                "summary": "Deactivate a customer",
                "description": "This endpoint is idempotent.",
                "tags": [
                    "Customers"
                ],
                "parameters": [
                    {
                        "$ref": "#/parameters/customer_id"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "The customer is now deactivated."
                    }
                }
            }
        },
        "/customers/{customer_id}/change_product": {
            "put": {
                "summary": "Change the product for the given user.",
                "description": "This endpoint is idempotent.",
                "tags": [
                    "Customers"
                ],
                "parameters": [
                    {
                        "$ref": "#/parameters/customer_id"
                    },
                    {
                        "$ref": "#/parameters/product"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "The new product is saved."
                    }
                }
            }
        }
    },
    "securityDefinitions": {
        "basic_authentication": {
            "type": "basic",
            "description": "Please provide your partner ID as username, and our shared secret as password.\n\nAlso be aware, that you have different passwords for staging and production.\n\nBeside that, your IP must be whitelisted. We will make sure that your whitelisted IP's match your partner ID.\n"
        }
    },
    "parameters": {
        "customer_id": {
            "name": "customer_id",
            "in": "path",
            "type": "string",
            "required": true,
            "description": "Your unique identifier for this customer."
        },
        "product": {
            "name": "product",
            "in": "query",
            "type": "string",
            "required": true,
            "description": "A string identifying the product the customer is on."
        },
        "first_name": {
            "name": "first_name",
            "in": "query",
            "type": "string",
            "required": false,
            "description": "The customers first name."
        },
        "last_name": {
            "name": "last_name",
            "in": "query",
            "type": "string",
            "required": false,
            "description": "The customers last name."
        }
    },
    "definitions": {
        "ActivationResponse": {
            "type": "object",
            "properties": {
                "claim_token": {
                    "type": "string",
                    "description": "The token that lets the user claim this customer. Contained in the claim_url."
                },
                "claim_url": {
                    "type": "string",
                    "description": "URL that the customer should use to get started with their membership with Zetland."
                }
            }
        },
        "Customer": {
            "type": "object",
            "properties": {
                "partner_id": {
                    "type": "string",
                    "description": "Your ID."
                },
                "customer_id": {
                    "type": "string",
                    "description": "Unique identifier representing a specific customer of yours."
                },
                "product": {
                    "type": "string",
                    "description": "The product identifier you have provided."
                },
                "claimed": {
                    "type": "boolean",
                    "description": "Indicates whether or not the customer is claimed. I.e. if they have a user within Zetland."
                },
                "active": {
                    "type": "boolean",
                    "description": "Indicates whether or not the customer is active."
                },
                "terminated": {
                    "type": "boolean",
                    "description": "Indicates whether or not the customer is terminated. I.e. is no longer a customer with you."
                },
                "claim_url": {
                    "type": "string",
                    "description": "URL that the customer should use to get started with their membership with Zetland."
                },
                "email": {
                    "type": "string",
                    "description": "The email that the customer uses to sign into Zetland. Might be null."
                }
            }
        }
    }
}